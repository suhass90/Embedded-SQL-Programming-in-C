CREATE SCHEMA sample;

CREATE TABLE sn0027_vs0027.EMPLOYEE(
Fname VARCHAR(15) NOT NULL,
Minit CHAR,Lname VARCHAR(15) NOT NULL,
Ssn CHAR(9) NOT NULL,Bdate DATE, 
Address VARCHAR(30), 
Sex CHAR(1),
Salary DECIMAL(10,2),
Super_ssn CHAR(9), 
Dno NUMERIC NOT NULL CHECK (Dno > 0), 
PRIMARY KEY(Ssn));

CREATE TABLE sn0027_vs0027.DEPARTMENT(
Dname VARCHAR(15) NOT NULL, 
Dnumber NUMERIC NOT NULL CHECK (Dnumber > 0), 
Mgr_ssn CHAR(9) NOT NULL, 
Mgr_start_date DATE, 
PRIMARY KEY(Dnumber), 
UNIQUE(Dname), 
FOREIGN KEY(Mgr_ssn) REFERENCES sn0027_vs0027.EMPLOYEE(Ssn));

CREATE TABLE sn0027_vs0027.DEPT_LOCATIONS(
Dnumber NUMERIC NOT NULL CHECK (Dnumber > 0), 
Dlocation VARCHAR(15) NOT NULL, 
PRIMARY KEY(Dnumber,Dlocation),
FOREIGN KEY(Dnumber) REFERENCES sn0027_vs0027.DEPARTMENT(Dnumber));

CREATE TABLE sn0027_vs0027.PROJECT(
Pname VARCHAR(15) NOT NULL, 
Pnumber NUMERIC NOT NULL CHECK (Pnumber > 0),
Plocation VARCHAR(15),
Dnum NUMERIC NOT NULL CHECK (Dnum > 0), 
PRIMARY KEY(Pnumber), 
UNIQUE(Pname),
FOREIGN KEY(Dnum) REFERENCES sn0027_vs0027.DEPARTMENT(Dnumber));

CREATE TABLE sn0027_vs0027.WORKS_ON(Essn CHAR(9) NOT NULL, 
Pno NUMERIC NOT NULL CHECK (Pno > 0), 
Hours DECIMAL(3,1), 
PRIMARY KEY(Essn,Pno), 
FOREIGN KEY(Essn) REFERENCES sn0027_vs0027.EMPLOYEE(Ssn), 
FOREIGN KEY(Pno) REFERENCES sn0027_vs0027.PROJECT(Pnumber));

CREATE TABLE sn0027_vs0027.DEPENDENT(
Essn CHAR(9) NOT NULL, 
Dependent_name VARCHAR(15) NOT NULL, 
Sex CHAR(1), 
Bdate DATE, 
Relationship VARCHAR(8), 
PRIMARY KEY(Essn,Dependent_name), 
FOREIGN KEY(Essn) REFERENCES sn0027_vs0027.EMPLOYEE(Ssn));